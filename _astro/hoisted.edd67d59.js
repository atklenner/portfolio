import{p}from"./p5.min.860e6110.js";let y=.01;class b{pos;vel;mass;r;color;constructor(s,i,t,l){this.pos=l.createVector(s,i),this.vel=l.createVector(l.random(-20,20),l.random(-20,20)),this.mass=t,this.r=16*l.sqrt(t),this.color=l.color(l.random(255),l.random(255),l.random(255))}calcFriction(){let s=this.vel.copy();return s.setMag(-1*y*this.mass),s}update(){this.vel.add(this.calcFriction()),this.pos.add(this.vel)}edges(s,i){this.pos.y>=i-this.r?(this.pos.y=i-this.r,this.vel.y*=-1):this.pos.y<=this.r&&(this.pos.y=this.r,this.vel.y*=-1),this.pos.x>=s-this.r?(this.pos.x=s-this.r,this.vel.x*=-1):this.pos.x<=this.r&&(this.pos.x=this.r,this.vel.x*=-1)}collision(s){let i=this.mass+s.mass;if(this.pos.dist(s.pos)<=this.r+s.r){let t=this.pos.copy().sub(s.pos).normalize(),l=t.copy().set(t.y*-1,t.x),e=t.dot(this.vel),a=t.dot(s.vel),r=l.dot(this.vel),h=l.dot(s.vel),c=e*(this.mass-s.mass)+2*s.mass*a/i,n=a*(s.mass-this.mass)+2*this.mass*e/i,m=t.copy().mult(c),d=l.copy().mult(r),v=t.copy().mult(n),f=l.copy().mult(h);this.vel.set(m.add(d)),s.vel.set(v.add(f))}}show(s){s.stroke(this.color),s.fill(this.color),s.ellipse(this.pos.x,this.pos.y,this.r*2,this.r*2)}}const u=o=>{let s=[];const i=Math.min(window.innerHeight,window.innerWidth);o.setup=()=>{o.createCanvas(i,i);for(let t=0;t<20;t++)s.push(new b(o.random(i),o.random(i),2,o))},o.draw=()=>{o.background(0);for(let t of s){t.show(o),t.edges(i,i);for(let l of s)t!==l&&t.collision(l);t.update()}}};new p(u);
